241115

[todo list]
- 시연 녹화
- bookboard readme 추가
- 포트폴리오 추가
- 이력서 수정

[2차 개인프로젝트 발표]

<details>
  <summary>발표 대본</summary>

    
    
    
    평소 독서를 즐겨하는 사람으로서, 내 독서 기록들을 한번에 확인할 수 있었으면 좋겠다는 생각이 들었습니다. 예를 들어 내가 어떤 분야의 책을 주로 읽는지, 올해는 몇권을 읽었는지, 한 권당 대략 며칠씩 소요하는지 등등을 확인 할 수 있는 웹사이트를 만들면 좋겠다 싶어서 이번 프로젝트를 기획하게 되었습니다.
    해당 프로젝트의 차별점은 우선 네이버 도서 검색 api를 사용해서 사용자가 읽고자하는 책을 간편하게 검색해서 등록할 수 있게 했다는 점입니다. 그리고 머신러닝을 이용해 새로 읽으려는 책의 예상 독서 기간을 계산하고요, 사용자가 입력한 독서 데이터를 하이차트 라이브러리를 활용해 그래프로 제공합니다. 
    프로젝트 구현 계획은 다음과 같습니다. 프론트엔드는 부트스트랩을 활용해 구현했습니다. DB는 오라클을 이용했고요, api호출을 위해 ajax를 활용했습니다. 서버는 flask로 구동했고요, 독서 기간 예측에는 Gradient Boosting 기반 모델 XGBoost를 적용했습니다.
    실제 구현 일정은 다음과 같았습니다. 프로젝트의 전체적인 구상을 마치자마자 템플릿 적용에 들어갔고요, 참고로 사용한 템플릿은 부트스트랩 Admin 2 라는 템플릿 이었습니다. 해당 템플릿 메인 색상이 파란색이었기에 css수정하여 메인색상을 녹색으로 변경하고, 프로젝트에 맞게 페이지를 재구성했습니다.
    이튿날 데이터베이스를 설계하고, 사용할 샘플 데이터를 정리했어요. 프로그램 시연 및 머신러닝 학습에 활용한 이 샘플 데이터는 전부 제 실제 독서 데이터입니다.
    7일부터 본격적으로 프로그램 구현에 들어갔고요, 12일에 기본 기능 구현을 완료하고, 이틀동안 modal 적용, 머신러닝 학습, 쿼리 수정 등 프로그램을 추가적으로 다듬는 시간을 가졌습니다. 
    프로젝트 개발 환경 말씀드리겠습니다. 파이참과 플라스크를 이용해 작업했고요, highcharts, xgboost, jquery 라이브러리와 bootstrap프레임워크를 활용했습니다. 
    erd다이어그램 보여드릴게요. 사용자, 도서, 독서 기록 총 3개의 테이블로 작업했습니다. 도서 구분을 위해 isbn이라는 국제표준도서번호를 기본키로 설정했습니다.
    
    주요기능 설명드리겠습니다. 먼저, 도서검색 api를 이용했다고 말씀드렸죠. 사용자가 책 검색 란에 키워드를 입력하고, 검색 버튼을 누르면 getlist라는 함수가 작동합니다. 함수 getlist에서 ajax를 활용해 데이터를 요청하고요, app.py에서 해당 요청을 받아 api를 호출합니다.
    (페이지 넘김) 
    응답받은 데이터를 app.py에서 getlist함수로 리턴하고, getlist에서는 이 데이터를 radio버튼 형태로 출력합니다. 좌측을 보시면 '우연들'이라는 검색어에 따른 결과가 하단에 출력된 것을 확인하실 수 있습니다.
    (페이지 넘김)
    radio버튼 value에 각 도서 isbn번호를 입력해두었습니다. 도서를 선택하면 동일한 방식으로 api를 호출하는데요, 이번엔 해당 도서 isbn번호로 검색한 뒤 도서 정보를 하단 input란에 출력합니다. 보시면 제목, 저자명, 가격이 출력된 것을 확인하실 수 있습니다.
    
    두번째로, 독서 기간 예측 기능 설명드리겠습니다. XGBoost라는 Gradient Boosting기반 모델을 이용했고요, 
    
    ===
    
    (그라디언트 부스팅 알고리즘 : 경사하강법을 활용하는 부스팅 방법.
     의사결정나무를 활용한 앙상블 모델 중 하나. 약한 모델 을 여러 번 순차적으로 적용해 강한 모델을 만들어 감. 선형회귀 알고리즘에서 그라디언트가 줄어들며 손실함수의 최소값을 찾아나가는 것과 같은 원리에서 그라디언트 부스팅이라 불린다. 그라디언트 부스팅은 선형회귀와 같은 작동방식은 아니지만 실제값과 예측값의 차이인 잔차를 학습해 나가며 잔차를 줄여나가는 방식이다.)
    
    경사하강법이란 손실함수의 미분값의 크기가 점차 줄어드는 방향으로 가중치를 업데이트하며 손실함수의 최소값을 찾아가는 방법을 말한다. 이 때 손실함수를 미분하면 미분값은 예측값 - 실제값이 된다. 미분값(그라디언트)이 양수이든 음수이든 손실함수의 최소값을 찾기 위해서는 그 크기(기울기)가 점차 줄어드는 방향으로 이동해야 하는데, 그라디언트에 마이너스를 취해 가중치를 업데이트하면 된다.
    
    XGboost의 핵심 아이디어는 각 피처 데이터들을 일정 간격으로 나눠 최적의 분기점을 찾는다는 것이다
    병렬처리를 지원하므로 대용량 데이터셋에서도 빠른 학습과 예측이 가능.
    
    ===
    
    모델 입력에는 도서 카테고리와, 페이지 수를 사용했습니다. 기존 데이터를 수정하여 양을 늘려가면서 모델을 여러번 생성했고요, 그중 가장 성능이 괜찮은 모델을 프로그램에 적용시켰습니다.
    
    mae : 평균 절대 오차. 작을수록 좋음
    RMSE : 평균 제곱근 오차. 작을수록 좋음.
    R^2 score : 결정계수. 1에 가까울수록 좋음.
    
    보시면 r제곱 score가 0.82가 나왔죠. 이 결정계수는 1에 가까울수록 좋은 지표인데, 맨 처음 모델은 마이너스 점수가 나왔습니다. 그래서 성능을 높이기 위해 데이터를 여러 방법으로 수정해가면서 다시 학습시켰고요, 아직 부적절한 결과도 나오지만 그래도 초반보단 상당히 의도에 부합하는 값을 보여주고 있습니다.
    
    아까 입력했던 책이죠? 카테고리와 페이지 값을 마저 입력하고, 예상 기간 확인하기 버튼을 누르면 하단에 예측값이 출력됩니다. 작동 흐름은 좀 전과 유사하니 추가 설명은 생략하도록 하겠습니다.
    
    마지막 기능 설명해드리겠습니다. 사용자는 독서 날짜와 읽은 페이지를 기록하는 것만으로, 본인의 독서 현황을 확인할 수 있습니다.
    아까 등록한 책 radio버튼으로 선택할 수 있게끔 떠있고요, 지금은 읽은 기록이 없어서 현재 읽은 페이지가 0p로 출력되어있습니다. 10월 30일에 51p를 읽었다는 기록을 추가해보겠습니다. 우측 이미지를 보시면 페이지가 업데이트 되어있죠. 독서 기록을 추가할때 데이터가 insert하고, 이후 윈도우함수를 이용해서 각 도서별로 partition을 나눠 누적 페이지를 조회했습니다. 
    (페이지 넘김)
    독서 기록과 동시에 읽은 날짜가 업데이트 됩니다. 보시면 서브쿼리와 윈도우함수를 이용해 읽은 날짜를 설정한 것을 확인하실 수 있고요, 누적 페이지는 앞서 말씀드린 것과 마찬가지로 윈도우함수를 사용했습니다. 메인페이지에는 전체 기록 중 가장 최근에 읽은 책을 조회해서 날짜와 책 제목을 출력했습니다. 마찬가지로 서브쿼리를 이용했습니다. 
    (페이지 넘김)
    만일 누적 페이지가 총 페이지와 같아진다면 해당 도서를 전부 읽었다는 뜻이겠죠? 독서 기록 추가시 누적페이지와 총 페이지가 일치하는 도서는 완독여부를 업데이트하여 읽은 책 목록에 뜨도록 합니다. 보시면 이 북 리스트는 end_yn이 y인 값만 출력하고 있거든요. '책과 우연들'이라는 도서가 상단에 추가된 것을 확인할 수 있습니다. 이 도서를 클릭하면 상세 정보 modal이 뜨는데요, 실제 독서 일수 같은 경우도 윈도우함수를 사용해서 카운트했습니다.
    
    다음으로 주요 화면 설명드리겠습니다. 회원가입 화면, 로그인 화면입니다. 
    
    로그인 하고 나시면 메인 화면으로 진입합니다.
    우측 상단 유저아이콘을 누르시면 개인정보 수정 혹은 로그아웃을 하실 수 있고요, 로그아웃 버튼을 누르시면 확인 modal이 나타납니다.
    
    독서 목표 관리 페이지입니다. 목표 도서를 추가하실 수 있고요, 목표 리스트를 클릭하시면 도서를 삭제할 수 있습니다.
    
    올해 읽은 책 페이지입니다. 사용자가 완독한 도서가 리스트로 출력되고요, 각 도서를 클릭하면 상세 정보 modal에서 정보를 확인하실 수 있습니다.
    
    상세 독서 기록 페이지입니다. 개별 독서 기록이 출력됩니다. 각 기록을 클릭하시면 기록 삭제가 가능합니다.
    
    마이페이지입니다. 아이디는 변경 불가하지만, 이름과 이메일은 수정하실 수 있습니다.
    
    이어서 프로그램 시연 보여드리겠습니다.
    
    시연계정
    id : lsh111
    pw : aaaa
    
    시연 순서
    1. 로그인화면에서 '아직 회원이 아니신가요?' 클릭하여 회원가입 창 보여준 뒤, '이미 계정이 있으신가요?' 눌러서 로그인창으로 돌아온 뒤 로그인
    2. 로그인하여 메인화면 보여주기. 그래프에 마우스 올려서 값 보여주기.
    '목표 도서 추가' 눌러서 도서 추가창으로 이동
    3. '책과 우연들' 눌러서 삭제 modal. 삭제하지 않고 상세 독서 기록으로 돌아가서 맨 위에 책과 우연들 있는 거 보여주기.
    4. 다시 돌아와서 목표도서 삭제 후 독서기록 삭제된거 보여주기.
    5. 독서 목표 관리로 돌아가서 '우연들'검색
    6. 책 제목 수정하면서 수정 가능함을 알려주기
    7. 페이지 296p (변명...) 카테고리(십진분류법) 고르기
    8. 메모는 자유. '소설' 
    9. 예상기간 확인 눌러서 ml 보여주기
    10. '추가'버튼 누른 뒤 위에 항목 삽입됨
    11. 위 도서와 시작여부 차이 보여주기. 
    12. 메인화면으로 돌아가서 책 선택하고 10월30일 51p 추가
    13. 마지막으로 읽은날, 읽은 책 추가되는거 보여주고, 독서기록 추가란 페이지 업뎃된것도 보여주기. 
    14. 오늘 날짜로 아무거나 추가해서 보여주기. 올해 읽은 페이지수와 읽은날 업데이트
    15. 상세 독서기록 가서 누적 페이지 보여주기. 
    16. 독서 목표 관리 가서 시작여부, 누적페이지, 읽기 시작한 날, 마지막으로 읽은날 보여주기. 
    17. 상세기록 삭제 후 기간 업데이트 
    18. 메인 가서 남은페이지 전부 추가
    19. 다 읽으면 메인화면 올해 읽은책 업데이트 된거 보여주기
    20. 올해 읽은책 으로 돌아와서 책 목록 상단에 삽입된거
    21. 눌러서 상세 정보 modal 보여주기
    22. ml 적용 잘 된거 : 뉴서울파크 젤리장수 대학살,  꿰맨 눈의 마을, 그렇게 물어보면 원하는 답을 들을 수 없습니다
    23. 페이징. 2페이지 누르기
    24. 처음부터 그런 건 없습니다, 파견자들
    25. 마이페이지 한번 보여주기. 
    26. 좌측 상단 로고 눌러서 메인으로 돌아가기
    27. 유저아이콘 눌러서 로그아웃
    
    프로그램 진행하면서 느낀점 말씀드리겠습니다.
    먼저, 첫번째 프로젝트와는 달리 flask로 웹페이지를 만들면서 템플릿 적용 방법이라거나, 페이지별 이동 방법 등을 flask에 맞춰 새롭게 익힐 수 있었고요, 서브쿼리나 윈도우함수 등 sql문을 전보다 복잡하게 작성하면서 데이터를 다루는데에 보다 능숙해진 것 같습니다. 그리고 러닝머신 모델을 학습시키면서 과연 성능을 높이기 위해서는 어떤 방식으로 데이터를 입력하는게 좋을지 생각하보는 시간을 가질 수 있었습니다.
    
    향후 구현하고 싶은 기능으로는 게시판별 검색 기능과 통계 기간 설정 기능이 있습니다. 현재는 올해 기준으로만 그래프를 출력하는데, 이를 월별, 혹은 임의 기간으로 설정할 수 있도록 업데이트 해보고 싶습니다
    
    웹사이트에 직접 들어오고픈 분들이 계실텐데요, 새로 가입하셔도 되지만 그럴 경우 사용자에게 독서 데이터가 존재하지 않아서, 그래프 등을 확인하시려면 새로 기록을 하셔야 해요. 그래서 시연때 쓴 계정을 알려드리겠습니다. 궁금하신 분 계시면 해당 계정으로 살펴보셔도 됩니다.
    
    발표 들어주셔서 감사합니다. 지금까지 이소희 였습니다.
    
    
    000 총류
    100 철학
    200 종교
    300 사회과학
    400 자연과학
    500 기술과학
    600 예술
    700 언어
    800 문학
    900 역사 




</details>


- 구글 geopy라이브러리 
- lanczos 화질 보정
- 스프링부트 : restTemplate, layout: fragment content

- 모폴로지 연산
- 주파수 필터링

- pykakasi : 히라가나, 가타카나 변환 라이브러리































